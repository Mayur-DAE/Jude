<div class="col-12 col-xl-12">
  <div class="justify-content-end d-flex">
    <div class="dropdown flex-md-grow-1 flex-xl-grow-0">
      <button class="btn btn-sm btn-light bg-white dropdown-toggle" type="button" id="dropdownMenuDate2"
        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="display: flex; justify-content: space-between; align-items: center; gap: 5px;">
        <i class="mdi mdi-calendar"></i> {{selected}}
      </button>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuDate2">
        <a class="dropdown-item" href="#" (click)="refreshdashboardList()">All</a>
        <a class="dropdown-item" href="#" (click)="todayList()"> Today</a>
        <a class="dropdown-item" href="#" (click)=" weeklyList()">Weekly</a>
        <a class="dropdown-item" href="#" (click)="monthdataList()"> Monthly</a>
        <a class="dropdown-item" href="#" (click)="quaterlyList()">Quaterly</a>
        <a class="dropdown-item" href="#" (click)="yearlyList()">Yearly</a>
      </div>
    </div>
  </div>
</div>
<div class="row g-3">
  
  <!-- <div class="col-6 col-lg-2 grid-margin1 stretch-card">
    <div class="card">
      <div class="card-body-earning">
        <h4 class="card-title1">Net Sales / GMV</h4>
        <div class="d-flex justify-content-between">
          <h6 class="text-muted cardtext">{{currency}} {{ NetSales | number:'1.2-2'}}/{{currency}} {{ gmv | number:'1.2-2'}}</h6>

        </div>
        <div class="progress progress-md">
          <div class="progress-bar bg-sales w-25" role="progressbar" aria-valuenow="25" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div> -->

<div class="col-12 col-lg-4 grid-margin1 stretch-card">
  <div class="card">
    <div class="card-body p-4">
      <!-- Top: Title and Icon -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <p class="mb-1 text-muted">Net Sales / GMV</p>
        </div>
        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center"
          style="width: 4.5rem; height: 4.5rem; margin-bottom: -2.5rem;">
          <i class="bi bi-graph-up fs-4"></i>
        </div>

      </div>
      <!-- Middle: Big Number -->
      <h4 class="fw-bold mb-1">{{ currency }} {{ NetSales | number:'1.2-2' }} / {{ currency }} {{ gmv | number:'1.2-2'
        }}</h4>
      <!-- Bottom: Description -->
    </div>
  </div>
</div>



  <!-- <div class="col-6 col-lg-2 grid-margin1 stretch-card">
    <div class="card">
      <div class="card-body-orders">
        <h4 class="card-title1">Total Orders</h4>
        <div class="d-flex justify-content-between">
          <h2 class="text-muted">{{ TotalOrders }}</h2>

        </div>
        <div class="progress progress-md">
          <div class="progress-bar bg-orders w-25" role="progressbar" aria-valuenow="25" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div> -->


<div class="col-12 col-lg-4 grid-margin1 stretch-card">
  <div class="card">
    <div class="card-body p-4">
      <!-- Top: Title and Icon -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <p class="mb-1 text-muted">Total Orders</p>
        </div>
         <!-- Icon inside rounded circle with custom background -->
        <div class="rounded-circle bg-warning d-flex align-items-center justify-content-center"
             style="width: 4.5rem; height: 4.5rem; margin-bottom: -2.5rem;">
          <i class="bi bi-bag-check text-white fs-4"></i> <!-- Bootstrap icon for orders -->
        </div>

      </div>
      <!-- Middle: Big Number -->
      <h4 class="fw-bold mb-1">{{ TotalOrders }}</h4>
      <!-- Bottom: Description -->
    </div>
  </div>
</div>

  <div *ngIf="CompanyID==1;then firstBlock"></div>
  <ng-template #firstBlock>
    <!-- <div class="col-6 col-lg-2 grid-margin1 stretch-card">

      <div class="card">
        <div class="card-body-shops">
          <h4 class="card-title1">Total Shops</h4>
          <div class="d-flex justify-content-between">
            <h2 class="text-muted">{{ TotalShops }}</h2>
          </div>
          <div class="progress progress-md">
            <div class="progress-bar bg-shops w-25" role="progressbar" aria-valuenow="25" aria-valuemin="0"
              aria-valuemax="100"></div>
          </div>
        </div>
      </div>

    </div> -->


<div class="col-12 col-lg-4 grid-margin1 stretch-card">
  <div class="card">
    <div class="card-body p-4">
      <!-- Top: Title and Icon -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <p class="mb-1 text-muted">Total Shops</p>
        </div>
        <div class="rounded-circle bg-success d-flex align-items-center justify-content-center"
             style="width: 4.5rem; height: 4.5rem; margin-bottom: -2.5rem;">
          <i class="bi bi-shop text-white fs-4"></i> <!-- Icon for shop -->
        </div>

      </div>
      <!-- Middle: Big Number -->
      <h4 class="fw-bold mb-1">{{ TotalShops }}</h4>
      <!-- Bottom: Description -->
    </div>
  </div>
</div>

    <!-- <div class="col-6 col-lg-2 grid-margin1 stretch-card">
      <div class="card">
        <div class="card-body-paids">
          <h4 class="card-title1">Free / Paid Shops</h4>
          <div class="d-flex justify-content-between">
            <h2 class="text-muted">{{TotalShops-PaidShops}} / {{ PaidShops }}</h2>
          </div>
          <div class="progress progress-md">
            <div class="progress-bar bg-freepaid w-25" role="progressbar" aria-valuenow="25" aria-valuemin="0"
              aria-valuemax="100"></div>
          </div>
        </div>
      </div>
    </div> -->

<div class="col-12 col-lg-4 grid-margin1 stretch-card">
  <div class="card">
    <div class="card-body p-4">
      <!-- Top: Title and Icon -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <p class="mb-1 text-muted">Free / Paid Shops</p>
        </div>
         <div class="rounded-circle bg-info d-flex align-items-center justify-content-center"
             style="width: 4.5rem; height: 4.5rem; margin-bottom: -2.5rem;">
          <i class="bi bi-cash-stack text-white fs-4"></i> <!-- Icon for payment -->
        </div>

      </div>
      <!-- Middle: Big Number -->
      <h4 class="fw-bold mb-1">{{TotalShops-PaidShops}} / {{ PaidShops }}</h4>
      <!-- Bottom: Description -->
    </div>
  </div>
</div>

    <!-- <div class="col-6 col-lg-2 grid-margin1 stretch-card">
      <div class="card">
        <div class="card-body-orders">
          <h4 class="card-title1">Expired Shops</h4>
          <div class="d-flex justify-content-between">
            <h2 class="text-muted">{{ ExpiredShops }}</h2>

          </div>
          <div class="progress progress-md">
            <div class="progress-bar bg-expired w-25" role="progressbar" aria-valuenow="25" aria-valuemin="0"
              aria-valuemax="100"></div>
          </div>
        </div>
      </div>
    </div> -->

<div class="col-12 col-lg-4 grid-margin1 stretch-card">
  <div class="card">
    <div class="card-body p-4">
      <!-- Top: Title and Icon -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <p class="mb-1 text-muted">Expired Shops</p>
        </div>
          <div class="rounded-circle bg-danger d-flex align-items-center justify-content-center"
            style="width: 4.5rem; height: 4.5rem; margin-bottom: -2.5rem;">
          <i class="bi bi-calendar-x text-white fs-4"></i> <!-- Expired date icon -->
        </div>

      </div>
      <!-- Middle: Big Number -->
      <h4 class="fw-bold mb-1">{{ ExpiredShops }}</h4>
      <!-- Bottom: Description -->
    </div>
  </div>
</div>

  </ng-template>
</div>

<div class="row">
  <div class="col-12">
    <div class="row">
      <div class="col-lg-6 grid-margin stretch-card">
        <div class="card">
          <div class="card-body1">
            <h4 class="card-title">Order Summary</h4>

            <canvas id="pieChart" ></canvas>
          </div>
        </div>
      </div>
      <div class="col-lg-6 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Monthly Total Sales (GMV)</h4>
            <canvas id="myChart"></canvas>
          </div>
        </div>
      </div>

      <div class="col-lg-6 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Top 5 Best Selling Products</h4>

            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr class="column1">
                    <th class="column2">Product</th>
                    <th class="column2">Qty Sold</th>
                    <th class="column">Total Price</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let dataItem of BestSeller">
                    <td class="column2">{{ dataItem.QtySold }}</td>
                    <td class="column2">{{ dataItem.MasterProductName }}</td>
                    <td class="column">{{currency}} {{ dataItem.TotalPrice | number:'1.2-2'}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="CompanyID==1;then secondBlock"></div>
      <ng-template #secondBlock>
        <div class="col-lg-6 grid-margin stretch-card">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">Top 5 Shop</h4>
              <div class="table-responsive">
                <table class="table">
                  <thead>
                    <tr>
                      <th class="column2">Shop</th>
                      <th class="column1">Total Orders</th>

                      <th class="column">Order Value</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let dataItem of RecentOrder">
                      <td class="column2">{{ dataItem.CompanyName }}</td>
                      <td class="column1">
                        {{ dataItem.Column1 }}
                      </td>
                      <td class="column">{{currency}} {{ dataItem.OrderValue | number:'1.2-2'}}</td>

                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
      <!-- <div class="col-lg-6 grid-margin stretch-card"> -->

      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Recent Orders</h4>
            <div class="table-responsive p-2">
              <table class="table ">
                <thead>
                  <tr class="column1">
                    <th class="column2">Order Number</th>
                    <th class="column2">Customer</th>


                    <th *ngIf="CompanyID==1" class="column2">Shop</th>

                    <th class="column">Price</th>
                    <th class="column">Status</th>
                  </tr>
                </thead>

                <tbody>

                  <tr *ngFor="let dataItem of TopSeller  let last = last">
                    <td class="column2">{{ dataItem.OrderID }}</td>
                    <td class="column2">{{ dataItem.CustomerName }}</td>

                    <td class="column2" *ngIf="CompanyID==1">{{ dataItem.CompanyName }}</td>
                    <td class="column">{{currency}} {{ dataItem.OrderPrice | number:'1.2-2'}}</td>

                    <td class="column">
                      <label class="badge" [ngClass]="[
                          dataItem.OrderStatusDescription == 'Delivered'
                            ? 'badge-success'
                            : dataItem.OrderStatusDescription == 'Ready for Pickup'
                            ? 'badge-warning'
                            : dataItem.OrderStatusDescription == 'On the way'
                            ? 'badge-info'
                            : dataItem.OrderStatusDescription == 'Cancelled'
                            ? 'badge-danger'
                            : dataItem.OrderStatusDescription == 'Returned'
                            ? 'badge-returned'
                            : dataItem.OrderStatusDescription == 'Rejected'
                            ? 'badge-danger'
                            : dataItem.OrderStatusDescription == 'Placed'
                            ? 'badge-info'
                            : dataItem.OrderStatusDescription == 'Confirmed'
                            ? 'badge-success'
                            : dataItem.OrderStatusDescription == 'Initiated'
                            ? 'badge-returned'
                            : dataItem.OrderStatusDescription == 'Payment Success'
                            ? 'badge-success'
                            : dataItem.OrderStatusDescription == 'Payment Failed'
                            ? 'badge-danger'                           
                            : null
                        ]"> <b>{{ dataItem.OrderStatusDescription }}</b> </label>
                    </td>

                  </tr>
                </tbody>
              </table>
              <!-- {{ShowModal()}} -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div class="col-md-4 col-sm-6 d-flex justify-content-center border-right">
  <div class="card-body">
    <div class="wrapper text-center">
      <h4 class="card-title">Alerts Popups</h4>
      <p class="card-description">A title with a text under</p>
      <div></div>
      <button class="btn btn-outline-success" onclick="showNotification('welcome','Enter address')">Click here!</button>
    </div>
  </div>  
</div> -->